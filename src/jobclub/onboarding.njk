---
layout: layouts/base.njk
title: Onboarding - Job Club
description: Start your Job Club onboarding journey. Complete your profile, get personalized guidance, and connect with mentors.
---

{% import "components/ui.njk" as ui %}

<div class="min-h-screen py-12 px-4">
  <div class="max-w-3xl container">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="font-black" style="font-size:2.5rem;margin-bottom:1rem;color:var(--swiss-black);">Job Club Onboarding</h1>
      <p class="text-lg text-gray-700">Share your info to get a personalized checklist, Discord access, and events matched to your goals. Takes ~5 minutes.</p>
    </div>

    <!-- Progress / steps -->
    <div class="mb-10">
      {% set steps = [
        {"kicker":"Step 1","title":"Profile","body":"Name, email, major, graduation."},
        {"kicker":"Step 2","title":"Goals","body":"Select your target path."},
        {"kicker":"Step 3","title":"Links","body":"LinkedIn, GitHub, portfolio, Calendly."},
        {"kicker":"Step 4","title":"Review & Consent","body":"Confirm sharing for checklist + Discord."}
      ] %}
      {{ ui.stepGrid(steps, 4) }}
    </div>

    <!-- Onboarding Form -->
    <form id="jobclub-onboarding" class="card" method="POST" action="/api/onboarding">
      <!-- Personal Information -->
      <fieldset class="mb-8">
        <legend class="text-xl font-bold text-gray-900 mb-6">Personal Information</legend>
        
        <div class="grid md:grid-cols-2" style="gap: var(--space-lg);">
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
              Full Name <span style="color:var(--swiss-red)">*</span>
            </label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              required
              class="input"
              placeholder="John Doe"
            >
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email Address <span style="color:var(--swiss-red)">*</span>
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required
              class="input"
              placeholder="john@example.com"
            >
          </div>

          <div>
            <label for="major" class="block text-sm font-medium text-gray-700 mb-2">
              Major / Field <span style="color:var(--swiss-red)">*</span>
            </label>
            <input 
              type="text" 
              id="major" 
              name="major" 
              required
              class="input"
              placeholder="Computer Science, Data Science, etc."
            >
          </div>

          <div>
            <label for="graduation_year" class="block text-sm font-medium text-gray-700 mb-2">
              Expected Graduation Year <span style="color:var(--swiss-red)">*</span>
            </label>
            <select 
              id="graduation_year" 
              name="graduation_year" 
              required
              class="input"
            >
              <option value="">Select year</option>
              <option value="2025">2025</option>
              <option value="2026">2026</option>
              <option value="2027">2027</option>
              <option value="2028">2028</option>
            </select>
          </div>
        </div>
      </fieldset>

      <!-- Career Goals -->
      <fieldset class="mb-8">
        <legend class="text-xl font-bold text-gray-900 mb-6">Career Goals</legend>
        
          <div>
            <label for="career_goal" class="block text-sm font-medium text-gray-700 mb-2">
              What's your primary career goal? <span style="color:var(--swiss-red)">*</span>
            </label>
            <select 
              id="career_goal" 
              name="career_goal" 
              required
              class="input"
            >
              <option value="">Select a goal</option>
              <option value="ai-consultant">AI Consultant</option>
              <option value="ai-startup">AI Startup Founder</option>
              <option value="ai-engineer">AI Software Engineer</option>
              <option value="data-scientist">Data Scientist</option>
              <option value="product-manager">Product Manager (AI)</option>
              <option value="other">Other</option>
            </select>
          </div>
      </fieldset>

      <!-- Professional URLs -->
      <fieldset class="mb-8">
        <legend class="text-xl font-bold text-gray-900 mb-6">Professional Assets</legend>
        <p class="text-sm text-gray-600 mb-4">We'll help you build these if you don't have them yet!</p>
        
        <div class="space-y-4">
          <div>
            <label for="linkedin_url" class="block text-sm font-medium text-gray-700 mb-2">
              LinkedIn Profile URL
            </label>
            <input 
              type="url" 
              id="linkedin_url" 
              name="linkedin_url"
              class="input"
              placeholder="https://linkedin.com/in/yourprofile"
            >
          </div>

          <div>
            <label for="github_url" class="block text-sm font-medium text-gray-700 mb-2">
              GitHub Profile URL
            </label>
            <input 
              type="url" 
              id="github_url" 
              name="github_url"
              class="input"
              placeholder="https://github.com/yourprofile"
            >
          </div>

          <div>
            <label for="portfolio_url" class="block text-sm font-medium text-gray-700 mb-2">
              Personal Portfolio Website
            </label>
            <input 
              type="url" 
              id="portfolio_url" 
              name="portfolio_url"
              class="input"
              placeholder="https://yourportfolio.com"
            >
          </div>

          <div>
            <label for="calendly_url" class="block text-sm font-medium text-gray-700 mb-2">
              Calendly Link (for scheduling meetings)
            </label>
            <input 
              type="url" 
              id="calendly_url" 
              name="calendly_url"
              class="input"
              placeholder="https://calendly.com/yourname"
            >
          </div>
        </div>
      </fieldset>

      <!-- Consent -->
      <fieldset class="mb-8">
        <div style="display:flex;align-items:flex-start;gap:var(--space-md);">
          <input 
            type="checkbox" 
            id="consent" 
            name="consent" 
            required
            style="margin-top:0.25rem;width:1rem;height:1rem;"
          >
          <label for="consent" class="text-sm text-gray-700">
            I agree to join Job Club and receive personalized guidance emails. My data will be used to build my checklist and connect me to Discord/CRM. <a href="/privacy" class="link-swiss">Read our privacy policy</a>.
          </label>
        </div>
      </fieldset>

      <!-- Submit Button -->
      <button 
        type="submit" 
        class="btn-swiss btn--block"
        style="margin-top:1rem;margin-bottom:1rem;"
      >
        Complete Onboarding & Get Checklist
      </button>

      <p class="text-xs text-gray-600 text-center">
        Weâ€™ll flag missing assets (LinkedIn, GitHub, portfolio, Calendly) and email your personalized next steps.
      </p>
    </form>

    <!-- What happens next -->
    <div class="mt-12 p-6 border-2" style="border-color: var(--swiss-black);">
      <h3 class="font-bold text-xl" style="margin-bottom: var(--space-md);">What happens next</h3>
      <ul class="space-y-3 text-sm" style="color: var(--swiss-gray-800);">
        <li>âœ” You get a personalized checklist and guides.</li>
        <li>âœ” Discord intro post to #jobclub-intros.</li>
        <li>âœ” Events and resources matched to your goal.</li>
        <li>âœ” CRM entry for mentorship + follow-ups.</li>
      </ul>
    </div>

    <!-- Success Message (Hidden by default) -->
    <div id="success-message" class="hidden panel">
      <h2 class="text-2xl font-bold text-green-900 mb-2">Welcome to Your AI Career Pipeline! ðŸŽ‰</h2>
      <p class="text-green-800 mb-4">Check your email for your personalized career readiness checklist and guided onboarding milestones.</p>
      <p class="text-green-700">We've also added you to our mentoring community on Discord. <a href="https://discord.gg/jobclub" class="font-bold hover:underline">Join now to connect with peers on the same path</a>!</p>
    </div>

    <!-- Help Section -->
    <div class="mt-12 panel">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Need Help?</h3>
      <p class="text-gray-700 mb-4">
        If you have questions about onboarding or Job Club, reach out to us:
      </p>
      <ul class="space-y-2 text-gray-700">
        <li>ðŸ“§ Email: <a href="mailto:jobclub@njit.edu" class="link-swiss">jobclub@njit.edu</a></li>
        <li>ðŸ’¬ Discord: <a href="https://discord.gg/jobclub" class="link-swiss">Job Club Server</a></li>
        <li>ðŸ“… Schedule: <a href="https://calendly.com/jobclub" class="link-swiss">Office Hours</a></li>
      </ul>
    </div>
  </div>
</div>

<script>
  document.getElementById('jobclub-onboarding').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Show loading state
    const submitBtn = e.target.querySelector('button[type="submit"]');
    const originalText = submitBtn.textContent;
    submitBtn.disabled = true;
    submitBtn.textContent = 'Processing...';
    
    try {
      // Collect form data
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData);
      
      // Remove consent checkbox from submission
      delete data.consent;
      
      // Send to API endpoint
      const response = await fetch('/api/onboarding', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      });
      
      const result = await response.json();
      
      if (response.ok) {
        // Hide form, show success message
        document.getElementById('jobclub-onboarding').classList.add('hidden');
        document.getElementById('success-message').classList.remove('hidden');
      } else {
        // Show error message
        const errorMsg = result.errors?.join(', ') || result.error || 'An error occurred';
        alert('Error: ' + errorMsg);
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      }
    } catch (error) {
      console.error('Submission error:', error);
      alert('Failed to submit form. Please try again.');
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
    }
  });
</script>
