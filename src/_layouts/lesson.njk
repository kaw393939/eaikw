---
layout: base.njk
---

{%- set currentNumber = lessonNumber -%}
{%- set prevLesson = null -%}
{%- set nextLesson = null -%}

{%- for lesson in collections.lessons -%}
  {%- if lesson.data.lessonNumber == currentNumber - 1 -%}
    {%- set prevLesson = lesson -%}
  {%- endif -%}
  {%- if lesson.data.lessonNumber == currentNumber + 1 -%}
    {%- set nextLesson = lesson -%}
  {%- endif -%}
{%- endfor -%}

<article class="lesson-content">
  <div class="lesson-header">
    {% if lessonNumber %}
    <span class="lesson-number">Lesson {{ lessonNumber }}</span>
    {% endif %}
    <h1>{{ title }}</h1>
    {% if description %}
    <p class="lesson-description">{{ description }}</p>
    {% endif %}
    {% if timeEstimate or level %}
    <div class="lesson-meta">
      {% if timeEstimate %}<span class="meta-item">‚è±Ô∏è {{ timeEstimate }}</span>{% endif %}
      {% if level %}<span class="meta-item">üìä {{ level }}</span>{% endif %}
    </div>
    {% endif %}
  </div>

  <div class="lesson-body">
    {{ content | safe }}
  </div>

  <nav class="lesson-nav">
    <div class="lesson-nav-links">
      {% if prevLesson %}
      <a href="{{ prevLesson.url }}" class="btn btn-secondary">
        ‚Üê Previous: {{ prevLesson.data.title }}
      </a>
      {% else %}
      <a href="/lessons/" class="btn btn-secondary">
        ‚Üê Back to All Lessons
      </a>
      {% endif %}

      {% if nextLesson %}
      <a href="{{ nextLesson.url }}" class="btn btn-primary">
        Next: {{ nextLesson.data.title }} ‚Üí
      </a>
      {% else %}
      <a href="/lessons/" class="btn btn-primary">
        üéâ Finish - Back to All Lessons
      </a>
      {% endif %}
    </div>
  </nav>
</article>
